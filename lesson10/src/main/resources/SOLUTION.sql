SELECT s.* FROM subject s WHERE ( SELECT AVG(m.mark) FROM mark m WHERE m.subject_id = s.id ) > ( SELECT AVG(m.mark) FROM mark m );
SELECT st.* FROM student st WHERE ( SELECT AVG(p.amount) FROM payment p WHERE p.student_id = st.id ) < ( SELECT AVG(p.amount) FROM payment p );